import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/items';\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [name, setName] = useState('');\n  const [editing, setEditing] = useState(null);\n  const [editName, setEditName] = useState('');\n\n  // Fetch items\n  useEffect(() => {\n    axios.get(API_URL).then(res => setItems(res.data));\n  }, []);\n\n  // Create\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!name) return;\n    const res = await axios.post(API_URL, { name });\n    setItems([...items, res.data]);\n    setName('');\n  };\n\n  // Delete\n  const handleDelete = async (id) => {\n    await axios.delete(`${API_URL}/${id}`);\n    setItems(items.filter(item => item.id !== id));\n  };\n\n  // Start editing\n  const startEdit = (item) => {\n    setEditing(item.id);\n    setEditName(item.name);\n  };\n\n  // Update\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    const res = await axios.put(`${API_URL}/${editing}`, { name: editName });\n    setItems(items.map(item => (item.id === editing ? res.data : item)));\n    setEditing(null);\n    setEditName('');\n  };\n\n  return (\n    <div style={{ margin: "2rem" }}>\n      <h1>CRUD Example</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          value={name}\n          onChange={e => setName(e.target.value)}\n          placeholder="New item name"\n        />\n        <button type="submit">Add</button>\n      </form>\n      <ul>\n        {items.map(item =>\n          <li key={item.id}>\n            {editing === item.id ? (\n              <form onSubmit={handleUpdate} style={{ display: 'inline' }}>\n                <input\n                  value={editName}\n                  onChange={e => setEditName(e.target.value)}\n                />\n                <button type="submit">Save</button>\n                <button type="button" onClick={() => setEditing(null)}>Cancel</button>\n              </form>\n            ) : (\n              <>\n                {item.name}\n                <button onClick={() => startEdit(item)}>Edit</button>\n                <button onClick={() => handleDelete(item.id)}>Delete</button>\n              </>\n            )}\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;